(this["webpackJsonprussian-roulette"]=this["webpackJsonprussian-roulette"]||[]).push([[0],{217:function(t,e,n){},219:function(t,e,n){},231:function(t,e){},256:function(t,e){},258:function(t,e){},337:function(t,e){},339:function(t,e){},372:function(t,e){},377:function(t,e){},379:function(t,e){},386:function(t,e){},399:function(t,e){},422:function(t,e){},431:function(t,e){},433:function(t,e){},503:function(t,e,n){"use strict";n.r(e);var i=n(17),a=n.n(i),r=n(207),c=n.n(r),u=(n(217),n(29)),o=n.n(u),s=n(208),h=n(4),l=n(6),b=n(9),d=n(8),f=(n(219),n(15)),j=n.n(f),v=n(26),m="0x9f42ce3053450F34fa51a8f4fB7D0E403368390a",p=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"loser",type:"address"}],name:"GameOver",type:"event"},{inputs:[],name:"getTurn",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isFinished",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"register",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"shoot",outputs:[],stateMutability:"nonpayable",type:"function"}],O=n(10),y=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={},t.handleSubmit=t.handleSubmit.bind(Object(v.a)(t)),t}return Object(l.a)(n,[{key:"handleSubmit",value:function(t){t.preventDefault();var e=new j.a(j.a.givenProvider);e.eth.getAccounts().then((function(t){new e.eth.Contract(p,m).methods.register().send({from:t[0],value:.5*Math.pow(10,18)}).then((function(){}))}))}},{key:"render",value:function(){return Object(O.jsx)("form",{onSubmit:this.handleSubmit,children:Object(O.jsx)("button",{type:"submit",children:"Register!"})})}}]),n}(a.a.Component),k=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={finished:!1},t.handleSubmit=t.handleSubmit.bind(Object(v.a)(t)),t}return Object(l.a)(n,[{key:"checkStatus",value:function(){var t=this,e=new j.a(j.a.givenProvider);e.eth.getAccounts().then((function(n){new e.eth.Contract(p,m).methods.isFinished().call({from:n[0]}).then((function(e){t.setState({finished:e})}))}))}},{key:"isItOver",value:function(){new(new j.a(j.a.givenProvider).eth.Contract)(p,m).events.GameOver().on("data",(function(t){window.alert("game is over,"+t.returnValues.loser+" has lost")}))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.checkStatus()}},{key:"render",value:function(){return this.isItOver(),this.state.finished?Object(O.jsx)("div",{children:"Game is over!, refresh and register to start a new one"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("form",{onSubmit:this.handleSubmit,children:Object(O.jsx)("button",{type:"submit",children:"Check game status"})}),Object(O.jsx)("div",{children:"Game is still on"})]})}}]),n}(a.a.Component),x=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={turn:""},t.handleSubmit=t.handleSubmit.bind(Object(v.a)(t)),t}return Object(l.a)(n,[{key:"checkTurn",value:function(){var t=this,e=new j.a(j.a.givenProvider);e.eth.getAccounts().then((function(n){new e.eth.Contract(p,m).methods.getTurn().call({from:n[0]}).then((function(e){t.setState({turn:e})}))}))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.checkTurn()}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("form",{onSubmit:this.handleSubmit,children:Object(O.jsx)("button",{type:"submit",children:"Check turn"})}),Object(O.jsxs)("div",{children:["it is player ",this.state.turn,"'s Turn"]})]})}}]),n}(a.a.Component),w=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={},t.handleSubmit=t.handleSubmit.bind(Object(v.a)(t)),t}return Object(l.a)(n,[{key:"handleSubmit",value:function(t){t.preventDefault();var e=new j.a(j.a.givenProvider);e.eth.getAccounts().then((function(t){new e.eth.Contract(p,m).methods.shoot().send({from:t[0]}).then((function(){})).catch((function(t){window.alert("An error happened, please shoot again")}))}))}},{key:"render",value:function(){return Object(O.jsx)("form",{onSubmit:this.handleSubmit,children:Object(O.jsx)("button",{type:"submit",children:"Shoot!"})})}}]),n}(a.a.Component),S=function(t){Object(b.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(h.a)(this,n),(t=e.call(this)).state={network:""},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new j.a(j.a.givenProvider),t.next=3,e.eth.net.getNetworkType().then((function(t){n=t}));case 3:this.setState({network:n});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{children:"Welcome to your possibly last game!"}),Object(O.jsxs)("h2",{children:["You are on network : ",this.state.network]}),Object(O.jsx)(y,{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(k,{}),Object(O.jsx)("br",{}),Object(O.jsx)(x,{}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{})]})}}]),n}(a.a.Component),g=S,C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),a(t),r(t),c(t)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root")),C()}},[[503,1,2]]]);
//# sourceMappingURL=main.82703ecf.chunk.js.map